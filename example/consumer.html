<html>
<meta charset="utf-8" /> 
<head>


</head>
<body>
Loading BIG IoT...
</body>

<script type='text/javascript' src='../dist/bigiot.js'></script>

<script type='text/javascript'>
// Replace with require('bigiot-js')
const { consumer: BigIotConsumer } = bigiot;

// Java providers use self-signed SSL certificates
// process.env.NODE_TLS_REJECT_UNAUTHORIZED = '0';

// Configure your consumer by setting the BIGIOT_CONSUMER_ID and BIGIOT_CONSUMER_SECRET environment
// variables
const config = {
  id: 'FOO',
  secret: 'BAR',
};

// Create a new consumer instance with your credentials
const consumer = new BigIotConsumer(config.id, config.secret);

// Authenticate your consumer
consumer.authenticate().then(() => {
  // authentication is done
  console.log('Consumer authentication successful!');

  consumer.subscribe('Bosch_CR-AirQualityDataService-WeatherData_Offering')
    .then((offering) => {
      console.log('Offering subscription successful!');

      const accessParameters = {
        longitude: 9.2,
        latitude: 42.0,
        radius: 10000000,
      };

      consumer.access(offering, accessParameters).then((response) => {
        console.log('Response: ', response);
      });
    });
});
</script>
</html>

